# 单体 vs. 模块化区块链

区块链实例化[复制状态机](https://dl.acm.org/doi/abs/10.1145/98163.98167)：在一个无需许可的分布式网络中，节点对初始状态应用有序的确定性交易序列，最终得到一个相同的最终状态。这意味着区块链需要以下四个功能:

- **执行**需要正确的执行交易并且更新状态。因此必须确保只执行有效的交易，即导致有效状态机转换的交易。
- **结算**用来提供执行层验证证明、解决欺诈争议和桥接其他执行层的环境。
- **共识**就交易顺序达成一致。
- **数据可用性**用来确保交易数据的可用性。需要注意的是，执行、结算和共识都依赖数据可用性。

传统的区块链即整体区块链讲所有四个功能都集中在单一的基础共识层中。单体区块链的问题在于共识层必须执行多种不同的任务，无法针对这些功能的某一个进行优化。结果导致单体范式限制了系统的吞吐量。

![Modular VS Monolithic](https://docs.celestia.org/assets/images/monolithic-modular-c078dd91fd68b8e6a168ca8bbccfd3d8.png)

作为解决方案，模块化区块链将这些功能分离到多个专用层中作为模块化堆栈的一部分。由于专业化提供的灵活性，这些堆栈可以有很多种不同的排列方式。例如，一种排列方式是将这四个功能分别放置在三个专用层中。

基础层包括数据可用性（DA）和共识功能，因此被称为共识和数据可用性层（简称为 DA 层），而结算和执行功能则独立放置在其自己的层中。这样，每个层都可以专门优化器功能，从而提供系统的吞吐量。此外，这种模块化范式还使得多个执行层（例如[`rollups`](https://vitalik.ca/general/2021/01/05/rollup.html)）可以共享相同的结算和数据可用性层。
